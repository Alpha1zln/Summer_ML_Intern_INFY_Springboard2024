import pandas as pd
from pycaret.regression import load_model, predict_model

# To perform prediction using a saved model in a .pkl format, 
# we can use the following Python code in Visual Studio Code (VS Code). 
# This code will load the saved model, convert your data dictionary to a pandas DataFrame, 
# make predictions using the loaded model, and print the results.


data_dict = {
 'movie_id': 41210,
 'budget': 19000000,
 'movie_url': 'https://www.themoviedb.org/movie/41210',
 'imdb_id': 'tt0889573',
 'original_language': 0,
 'movie_title': 'The Switch',
 'overview': 'Kassie is a smart, fun-loving single woman who, despite her neurotic best friend Wally’s objections, decides it’s time to have a baby – even if it means doing it herself… with a little help from a charming sperm donor. But, unbeknownst to her, Kassie’s plans go awry because of a last-minute switch that isn’t discovered until seven years later… when Wally gets acquainted with Kassie’s cute, though slightly neurotic, son.',
 'popularity': 37.077,
 'poster_path': '/lQZpZHLafAfYwogCF23lnfPQmIh.jpg',
 'production_companies': 'Mandate Pictures, Echo Films, Miramax, Bona Fide Productions',
 'runtime': 101,
 'status': 1,
 'tagline': 'The most unexpected comedy ever conceived.',
 'title': 'The Switch',
 'keywords': 'new york city, pregnancy, hypochondriac, little boy, single mother, based on short story, sperm donor, artificial insemination, precocious child, neurotic, wanting to have children, drunkenness, no memory, secret, best friends, moving back home',
 'cast': 'Jennifer Aniston, Jason Bateman, Patrick Wilson, Thomas Robinson, Jeff Goldblum, Juliette Lewis, Victor Pagan, Todd Louiso, Scott Elrod, Kelli Barrett, Rebecca Naomi Jones, Jeremy Mohler, Will Swenson, Edward James Hyland, Caroline Dhavernas, Brian Podnos, Carmen M. Herlihy, Lily Pilblad, Jason Jones, Bryce Robinson, Brooke Hoover, Stephanie Domini, Amanda Barron',
 'crew': "Allan Loeb, Josh Gordon, Will Speck, Ron Yerxa, Nathan Kahane, Brian Bell, Allan Loeb, Larry M. Gruber, Jennifer Aniston, Albert Berger, Kelli Konop, Mary Lee, Steven Pearl, Kristin Hahn, Jess Hall, Alex Wurman, John Axelrad, Carol Silverman, Sherri Berman Laurence, Brian Bell, Timothy Bird, Jennifer Truelove, Douglas Crosby, Jared Burke, David Januzzi, Chris Cenatiempo, Isabella Cenatiempo, Chase Millea, Jon Trosky, Sophia Cenatiempo, Curtis Lyons, Blaise Corrigan, Keith Young, David Price, Jack Schuster, Nancy Kirhoffer, Craig Haagensen, Frank Rinato, David Flanigan, David M. Dunlap, Kathleen Corgan, Scott Lipkowitz, Kevin Walter, Jessica Lichtner, Thomas Varga, Sam Perry, Adam Sanchez, Susana Gilboe, Winsome G. McKoy, Careen Fowles, Trenee Clayton, Annie Laoparadonchai, Chris Mahnken, Jorjee Douglass, Amy Duskin, Jerry DeCarlo, Lona Vigi, Jacqueline Payne, Louie Zakarian, Tom Cross, Andrew Buckland, Sean Valla, Ryan Malanaphy, Scott H. Ramsey, Michael 'Flash' McDonald, Steven Edick, Clay Liversidge, Richard Guinness Jr., Wesley Battle, Jasper L. Johnson III, Brent Poleski, Duke Scoppa, Pete Dancy, Drew Jiritano, Jon Dowdy, Andrew Mortelliti, Drew Jiritano Jr., Meghan K. Wicker, Ryan McDonald, Jesse Lasky, Quincy Gow, Ken Furer, Brian McKinley, Brian Segna, Michelle Johnson, Carolyn McGuinness, Margaret Maloney, Angelica Reynoso, Alexis Auditore, Diane Sawyer, Daniel Battsek, Michael Bloomberg, Laurie Gershon, Steven Baker, Douglas Aibel, Kasia Walicka Maimone, Jeffrey Eugenides, Dylan Correll, Adam Stockhausen",
 'release_day': 11,
 'release_month': 5,
 'release_year': 2010,
 'United States of America': 1,
 'New Zealand': 0,
 'Spain': 0,
 'Australia': 0,
 'Ireland': 0,
 'Luxembourg': 0,
 'Chile': 0,
 'Thailand': 0,
 'Morocco': 0,
 'Brazil': 0,
 'Malaysia': 0,
 'Hong Kong': 0,
 'India': 0,
 'Israel': 0,
 'China': 0,
 'Denmark': 0,
 'Portugal': 0,
 'United Arab Emirates': 0,
 'Canada': 0,
 'Mexico': 0,
 'Poland': 0,
 'Hungary': 0,
 'Greece': 0,
 'Japan': 0,
 'Sweden': 0,
 'Russia': 0,
 'Cyprus': 0,
 'Ukraine': 0,
 'Germany': 0,
 'Finland': 0,
 'Puerto Rico': 0,
 'Belgium': 0,
 'Serbia': 0,
 'Switzerland': 0,
 'Czech Republic': 0,
 'Italy': 0,
 'Romania': 0,
 'Netherlands': 0,
 'Singapore': 0,
 'Colombia': 0,
 'France': 0,
 'Aruba': 0,
 'United Kingdom': 0,
 'South Africa': 0,
 'Bulgaria': 0,
 'हिन्दी': 0,
 'پښتو': 0,
 'اردو': 0,
 'ภาษาไทย': 0,
 'Dansk': 0,
 'Polski': 0,
 'Español': 0,
 'No Language': 0,
 '广州话 / 廣州話': 0,
 'Magyar': 0,
 '普通话': 0,
 'Pусский': 0,
 'Український': 0,
 'עִבְרִית': 0,
 'Română': 0,
 'ελληνικά': 0,
 '한국어/조선말': 0,
 'Deutsch': 0,
 'svenska': 0,
 'Türkçe': 0,
 'Italiano': 0,
 'Tiếng Việt': 0,
 'فارسی': 0,
 'Gaeilge': 0,
 'Kiswahili': 0,
 'Français': 0,
 'Bahasa indonesia': 0,
 'Português': 0,
 'Norsk': 0,
 'Afrikaans': 0,
 '日本語': 0,
 'Latin': 0,
 'English': 1,
 'العربية': 0,
 'Íslenska': 0,
 'български език': 0,
 'Romance': 1,
 'Music': 0,
 'Animation': 0,
 'Horror': 0,
 'Drama': 1,
 'TV Movie': 0,
 'History': 0,
 'Adventure': 0,
 'Science Fiction': 0,
 'Comedy': 1,
 'Crime': 0,
 'Mystery': 0,
 'Western': 0,
 'Documentary': 0,
 'War': 0,
 'Action': 0,
 'Thriller': 0,
 'Fantasy': 0,
 'Family': 0,
 'Venezuela': None,
 'Botswana': None,
 'Kuwait': None,
 'Malta': None,
 'Slovakia': None,
 'Lebanon': None,
 'Bahamas': None,
 'Peru': None,
 'Saudi Arabia': None,
 'South Korea': None,
 'Norway': None,
 'Taiwan': None,
 'Libyan Arab Jamahiriya': None,
 'Zimbabwe': None,
 'Turkey': None,
 'Slovenia': None,
 'Soviet Union': None,
 'Dominican Republic': None,
 'Kenya': None,
 'Jamaica': None,
 'Indonesia': None,
 'Iceland': None,
 'Montenegro': None,
 'Austria': None,
 'Unnamed: 90': None,
 'ქართული': None,
 'Català': None,
 'Cymraeg': None,
 'ਪੰਜਾਬੀ': None,
 'Bosanski': None,
 'Nederlands': None,
 'සිංහල': None,
 'Esperanto': None,
 'Hrvatski': None,
 'Bahasa melayu': None,
 'Fulfulde': None,
 'isiZulu': None,
 'shqip': None,
 'euskera': None,
 'Slovenčina': None,
 'suomi': None,
 'தமிழ்': None,
 'Srpski': None,
 'Lietuvių': None,
 'Český': None,
 'Eesti': None,
 'বাংলা': None,
 'Somali': None
}

# Convert the dictionary to a pandas DataFrame
input_data = pd.DataFrame([data_dict])

# Load the saved model
loaded_model = load_model('C:/Users/shreyas1bst/Desktop/INFY INTERN 2024 SUMMER/official/official submitted data sy/milestone 3 - week 5/code/3 t/ver 3/pkl/final_model')

# Make predictions using the loaded model
predictions = predict_model(loaded_model, data=input_data)

# Print the predictions
print(predictions[['movie_id', 'prediction_label']])








# Data dictionary
# data_dict_train = {
#     'movie_id': 653346,
#     'budget': 160000000,
#     'movie_url': 'https://www.20thcenturystudios.com/movies/kingdom-of-the-planet-of-the-apes',
#     'imdb_id': 'tt11389872',
#     'original_language': 1,
#     'movie_title': 'Kingdom of the Planet of the Apes',
#     'overview': "Several generations in the future following Caesar's reign, apes are now the dominant species and live harmoniously while humans have been reduced to living in the shadows. As a new tyrannical ape leader builds his empire, one young ape undertakes a harrowing journey that will cause him to question all that he has known about the past and to make choices that will define a future for apes and humans alike.",
#     'popularity': 6245.898,
#     'poster_path': '/gKkl37BQuKTanygYQG1pyYgLVgf.jpg',
#     'production_companies': '20th Century Studios, Oddball Entertainment, Jason T. Reed Productions',
#     'runtime': 145,
#     'status': 3,
#     'tagline': 'No one can stop the reign.',
#     'title': 'Kingdom of the Planet of the Apes',
#     'keywords': 'empire, kingdom, gorilla, dystopia, eagle, sequel, anthropomorphism, distant future, ape, orangutan, evolution, chimpanzee, primate, sign languages, journey, cgi-live action hybrid, clan, post-apocalyptic, evil tyrant, bold',
#     'cast': "Owen Teague, Freya Allan, Kevin Durand, Peter Macon, William H. Macy, Eka Darville, Travis Jeffery, Lydia Peckham, Neil Sandilands, Ras-Samuel Welda'abzgi, Sara Wiseman, Kaden Hartcher, Andy McPhee, Nina Gallas, Samuel Falé, Dichen Lachman, Virginie Laverdure, Markus Hamilton, Benjamin Scott, Nirish Bhat Surambadka, Frances Berry, Peter Hayes, Sheree da Costa, Souleymane Diasse, Olga Miller, Dmitriy Miller, Anastasia Miller, Michael Spudic, Karin Konoval",
#     'crew': 'Wes Ball, Joe Hartwick Jr., Peter Chernin, Rick Jaffa, Amanda Silver, Jason Reed, Jenno Topping, Daniel T. Dorrance, Gyula Pados, Dan Zimmerman, Mayes C. Rubeo, Rick Jaffa, Amanda Silver, Wes Ball, Erik Winquist, John Paesano, Dirk Westervelt, Josh Friedman, Julia Neighly, Patrick Neighly, Debra Zane, Dylan Jury, Jennifer Cornwell, Justin Muller, Jon Mallard, Glenn Suter',
#     'revenue': 359039904,
#     'release_day': 8,
#     'release_month': 5,
#     'release_year': 2024,
#     'Venezuela': 0,
#     'Botswana': 0,
#     'Kuwait': 0,
#     'Australia': 0,
#     'Malta': 0,
#     'Portugal': 0,
#     'Slovakia': 0,
#     'Japan': 0,
#     'Ireland': 0,
#     'Colombia': 0,
#     'Belgium': 0,
#     'Cyprus': 0,
#     'Canada': 0,
#     'Luxembourg': 0,
#     'Lebanon': 0,
#     'Bahamas': 0,
#     'Peru': 0,
#     'Singapore': 0,
#     'Hong Kong': 0,
#     'Saudi Arabia': 0,
#     'Bulgaria': 0,
#     'South Korea': 0,
#     'South Africa': 0,
#     'Norway': 0,
#     'Taiwan': 0,
#     'Israel': 0,
#     'Thailand': 0,
#     'Libyan Arab Jamahiriya': 0,
#     'Aruba': 0,
#     'Mexico': 0,
#     'Finland': 0,
#     'Zimbabwe': 0,
#     'Puerto Rico': 0,
#     'Turkey': 0,
#     'United Arab Emirates': 0,
#     'Slovenia': 0,
#     'Russia': 0,
#     'Soviet Union': 0,
#     'Netherlands': 0,
#     'Brazil': 0,
#     'Spain': 0,
#     'Hungary': 0,
#     'Italy': 0,
#     'Dominican Republic': 0,
#     'Malaysia': 0,
#     'Kenya': 0,
#     'Sweden': 0,
#     'Poland': 0,
#     'Greece': 0,
#     'Jamaica': 0,
#     'France': 0,
#     'Denmark': 0,
#     'Czech Republic': 0,
#     'New Zealand': 0,
#     'Indonesia': 0,
#     'Chile': 0,
#     'Switzerland': 0,
#     'Serbia': 0,
#     'Germany': 0,
#     'China': 0,
#     'Romania': 0,
#     'India': 0,
#     'Iceland': 0,
#     'Ukraine': 0,
#     'Morocco': 0,
#     'Montenegro': 0,
#     'Austria': 0,
#     'United Kingdom': 0,
#     'United States of America': 1,
#     'Unnamed: 90': 0,
#     'Español': 0,
#     'Norsk': 0,
#     'ქართული': 0,
#     'Português': 0,
#     'Pусский': 0,
#     'Català': 0,
#     'Cymraeg': 0,
#     '普通话': 0,
#     'ਪੰਜਾਬੀ': 0,
#     'Bosanski': 0,
#     'Magyar': 0,
#     'Nederlands': 0,
#     'සිංහල': 0,
#     'български език': 0,
#     'English': 1,
#     'اردو': 0,
#     'Afrikaans': 0,
#     '广州话 / 廣州話': 0,
#     'Esperanto': 0,
#     'Hrvatski': 0,
#     'हिन्दी': 0,
#     'Bahasa indonesia': 0,
#     'Український': 0,
#     'No Language': 0,
#     '한국어/조선말': 0,
#     'العربية': 0,
#     'Bahasa melayu': 0,
#     'Latin': 0,
#     '日本語': 0,
#     'Fulfulde': 0,
#     'isiZulu': 0,
#     'Gaeilge': 0,
#     'Tiếng Việt': 0,
#     'Türkçe': 0,
#     'Dansk': 0,
#     'Kiswahili': 0,
#     'Íslenska': 0,
#     'Polski': 0,
#     'shqip': 0,
#     'euskera': 0,
#     'Slovenčina': 0,
#     'suomi': 0,
#     'தமிழ்': 0,
#     'ελληνικά': 0,
#     'Deutsch': 0,
#     'فارسی': 0,
#     'Srpski': 0,
#     'עִבְרִית': 0,
#     'Lietuvių': 0,
#     'پښتو': 0,
#     'Italiano': 0,
#     'Český': 0,
#     'ภาษาไทย': 0,
#     'Français': 0,
#     'Română': 0,
#     'Eesti': 0,
#     'svenska': 0,
#     'বাংলা': 0,
#     'Somali': 0,
#     'Action': 1,
#     'Romance': 0,
#     'History': 0,
#     'Crime': 0,
#     'Fantasy': 0,
#     'Thriller': 0,
#     'Animation': 0,
#     'TV Movie': 0,
#     'Music': 0,
#     'Horror': 0,
#     'Science Fiction': 1,
#     'Family': 0,
#     'Adventure': 1,
#     'Documentary': 0,
#     'Western': 0,
#     'Mystery': 0,
#     'War': 0,
#     'Drama': 0,
#     'Comedy': 0
# }
